# データフェッチ: コンポーネントによるデータのコロケーション

React からのデータ取得には GraphQL か Server Component からの直接 DB アクセスを使う。

## 理由

コンポーネント自身が取得するデータを制御できるのはこの 2 つだけ。
コンポーネントとデータ要求が同じ場所にあるため、何のデータが必要かがコードを見れば分かる。

REST + useEffect のようにコンポーネントの外でデータ取得を定義する方法では、コンポーネントとデータの対応関係がコード上で離れてしまう。

また、GraphQL と Server Components はコンポーネントが必要なデータだけを取得するため、overfetch/underfetch が起きない。
REST、tRPC、BFF など他のアプローチでは、返すデータの形がバックエンド側で決まるため、overfetch/underfetch を避けるにはコンポーネント外の修正が不可欠になる。
